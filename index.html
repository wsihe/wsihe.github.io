<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="keywords" content="ycwalker,前端,设计,此去,前端开发,用户体验,设计,frontend,design,nodejs,JavaScript"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><title>river</title><body><div class="home text-center"><a class="avatar" href="/"><img src="/images/avatar.jpg"></a><h1 class="name">river</h1><div class="slogan">小河</div><hr><div class="nav"><ul><li class="item"><a href="/archives">归档</a></li><li class="item"><a href="/categories">分类</a></li><li class="item"><a href="/about">关于</a></li><li class="item"><a href="https://github.com/ciqulover" target="_blank">GITHUB</a></li></ul></div></div><ul class="excerpts"><li><div class="article-meta"><a class="title" href="/2017/07/28/my-new-post/">my new post</a><i class="icon-calendar"></i>&nbsp;<time>2017.07.28</time></div><div class="post post-excerpt"></div><a class="read-more" href="/2017/07/28/my-new-post/">more...</a></li><li><div class="article-meta"><a class="title" href="/2017/07/28/hello-world/">Hello World</a><i class="icon-calendar"></i>&nbsp;<time>2017.07.28</time></div><div class="post post-excerpt"></div><a class="read-more" href="/2017/07/28/hello-world/">more...</a></li></ul><script>var state = false

document.addEventListener('mousewheel', function (e) {
  var h = window.innerHeight
  if (document.body.scrollTop < 9 * h / 10 && e.wheelDelta < 0) {
    e.preventDefault()
    if (!state) scroll(window.innerHeight - document.body.scrollTop, 'down')
    return
  }

  if (document.body.scrollTop < h && e.wheelDelta > 0) {
    e.preventDefault()
    if (!state) scroll(document.body.scrollTop, 'up')
  }
})


function scroll(dis, dir) {
  state = true
  var time = 60
  var i = Math.PI / time
  var interval = Array.apply(null, new Array(60))
    .map((j, k) => 10 * Math.sin((k + 1) * i))

  var total = interval.reduce((pre, cur) => pre + cur)

  var ds = interval.map(i => i / total * dis)

  var t = 0

  function frame() {
    if (t > 59) return state = false
    if (ds[t]) document.body.scrollTop = dir == 'up'
      ? document.body.scrollTop - ds[t]
      : document.body.scrollTop + ds[t]
    t++
    requestAnimationFrame(frame)
  }

  requestAnimationFrame(frame)
}
</script></body><script>var _hmt = _hmt || []
;(function () {
  var hm = document.createElement("script")
  hm.src = "https://hm.baidu.com/hm.js?ad593ccdd2ffe5cf791b35fee21d343d"
  var s = document.getElementsByTagName("script")[0]
  s.parentNode.insertBefore(hm, s)
})()</script></head></html>